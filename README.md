# Node REST API Starter

A REST API starter project for Node.JS

## Install dependencies

A simple Node.JS project requires you to download npm dependencies

```sh
$ npm install
```

## Configure the application

The project needs you to setup configuration variables which are then used throughout the application lifecycle. The configuration values might be different for production & development setup, that's why there is a provision to define them separately.

Since these values may differ for different setup, it is not a good idea to keep the same contents and version control them. That is why we take these values from environment variables. Do not worry, you don't have to set them manually. You can clone the `env.example` file & define the values accordingly. The application takes care of setting each value as a separate env variable.

```sh
$ cp .env.example .env
```

### Production values

These values are referred from environment variables and are defined inside [src/config/production.ts](src/config/production.ts) file which is version controlled and common to all setups. It needs to adheres to the same type definition.

### Development values

These values are referred from environment variables and are defined inside [src/config/development.ts](src/config/development.ts) file which is version controlled and common to all setups. It needs to adheres to the same type definition.

## Build the application

In order to run the application on different environments, we need to build the project.

We support following build strategies:

| Strategy   | Config version | Build type  |
| ---------- | -------------- | ----------- |
| dev        | development    | development |
| staging    | development    | production  |
| production | production     | production  |

- A development build type works with a dev server which is ideal for dev environment that can support live reloads and non production based bundles.
- A production build type is optimized build of the source code which is generated by transpiling TypeScript files.

## Run the application

In order to abstract the build & run process, we have helper commands which can save you lot of time.

For dev environment where live-reload is available, you can just run

```sh
$ make dev
```

Let's say you want to run the application on `staging` machine instance.

```sh
$ make staging
```

It will build the application for staging env & start the web server afterwards.

Similarly, on production env, you need to run:

```sh
$ make production
```

Needless to say what the above command result into :)

## Code Quality

The application makes use ESlint & Prettier for static code quality checks and style guidelines. It is equipped with best practices for Node.JS based applications that would be suggested/enforced to you. The style guidelines and formatting inspired by Prettier. If you use an IDE/code editor with prettier extension installed, it can also format the code as you save it (you need to enable this setting).

You can also check the linting issues and formatting of the whole application manually by running

```sh
$ make lint
```

This will report the files which have formatting and linting issues. Don't worry, you don't have to fix formatting issues manually. Just run the following command to do that automatically for you

```sh
$ make lint_fix:fix
```
